<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" href="favicon.ico">
    <title>Sample ECG Plotting Demo</title>
    <!-- Load d3.js and other visualization libraries-->
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src=https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.3.0/math.min.js></script>
    <!-- Load papaparse.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.2/papaparse.min.js"></script>
    <!-- Load the Plotly graphing functions -->
    <script src="create_graph.js"></script>
  </head>
  <body id="body">
    <span>Select desired record files:</span>
    <div id="records"></div>
    <br>
    <span>Annotations?</span>
    <input type="checkbox" id="annotations" onclick="initPlot()">
    <div class="container">
      <div id="chart"></div>
    </div>
  </body>
  <script>
    // Get all of the possible input files (will be done by the API)
    all_files = ['/website_demo/data/demo_ecg1.csv', '/website_demo/data/demo_ecg2.csv'];

    for (var i = 0; i < all_files.length; i++) {

      var file_name = all_files[i].split('/')[2].split('.')[0];

      var checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.className = 'input_file'
      checkbox.id = file_name;
      checkbox.value = file_name + '.csv';
      checkbox.setAttribute('onclick', 'initPlot();');

      var label = document.createElement('label')
      label.htmlFor = file_name;
      label.appendChild(document.createTextNode(file_name));

      var body = document.getElementById('records');
      body.appendChild(checkbox);
      body.appendChild(label);

    }
  </script>
</html>
